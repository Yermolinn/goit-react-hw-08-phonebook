"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[386],{386:function(e,n,t){t.r(n),t.d(n,{default:function(){return A}});var r=t(2791),a=t(5218),o=t(1599),s=t(578),i=t(4680),c=t(2739),u=t(4554),l=t(8595),d=t(2003),m=t(3329),h={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",borderRadius:2,boxShadow:24,p:4,outline:0},b=function(e){var n=e.showModal,t=e.open,r=e.children;return(0,m.jsx)(l.Z,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",open:t,onClose:function(){return n(!1)},closeAfterTransition:!0,slots:{backdrop:c.Z},slotProps:{backdrop:{timeout:500}},children:(0,m.jsx)(d.Z,{in:t,children:(0,m.jsx)(u.Z,{sx:h,children:r})})})},x=t(5861),f=t(9439),p=t(4687),w=t.n(p),j=t(5705),v=t(4627),C=t(890),Z=t(501),g=t(3790),y=t(4518),k=t(2716),S="EditContact_title__2nHc5",_="EditContact_contactContainer__VwnRG",E=function(e){var n=e.contactId,t=e.name,s=e.number,c=(0,o.i)(),u=(0,f.Z)(c,2),l=u[0],d=u[1],h=d.isSuccess,b=d.error,p=(0,i.LC)().setShowEditContact,E=(0,j.TA)({initialValues:{name:t,number:s},validationSchema:v.K3,onSubmit:function(){var e=(0,x.Z)(w().mark((function e(r){var a,o;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==r.name.trim()&&""!==r.number.trim()){e.next=2;break}return e.abrupt("return");case 2:return a=r.name.trim(),o=r.number.trim(),e.next=6,l((0,v.$B)({newName:a,newNumber:o,id:n,name:t,number:s}));case 6:E.resetForm(),setTimeout((function(){return p(!1)}));case 8:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()});return(0,r.useEffect)((function(){h&&a.ZP.success("Contact successfully edited!"),b&&a.ZP.error(b)}),[h,b]),(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("h2",{className:S,children:"Edit contact"}),(0,m.jsxs)("div",{className:_,children:[(0,m.jsxs)(C.Z,{sx:{display:"flex",mb:1},variant:"body1",children:[(0,m.jsx)(Z.Z,{sx:{mr:2}}),t]}),(0,m.jsxs)(C.Z,{sx:{display:"flex"},variant:"body1",children:[(0,m.jsx)(k.Z,{sx:{mr:2}}),s]})]}),(0,m.jsxs)("form",{onSubmit:E.handleSubmit,children:[(0,m.jsx)(g.Z,{id:"name",label:"New name",variant:"outlined",sx:{width:1,mb:2},name:"name",type:"text",value:E.values.name,onChange:E.handleChange,error:E.touched.name&&Boolean(E.errors.name),helperText:E.touched.name&&E.errors.name,autoComplete:"off"}),(0,m.jsx)(g.Z,{id:"number",label:"New phone number",variant:"outlined",sx:{width:1,mb:2},name:"number",type:"tel",value:E.values.number,onChange:E.handleChange,error:E.touched.number&&Boolean(E.errors.number),helperText:E.touched.number&&E.errors.number,autoComplete:"off"}),(0,m.jsx)(y.Z,{sx:{width:1,color:"black",bgcolor:function(e){return e.palette.secondary.light}},type:"submit",disabled:!(E.values.name||E.values.number),children:"Save"})]})]})},N=t(5527),T=t(3240),A=function(){var e=(0,o.Jx)(),n=e.data,t=e.isLoading,c=e.isError,l=e.isSuccess,d=e.error,h=(0,i.LC)(),x=h.showAddContact,f=h.setShowAddContact,p=h.showEditContact,w=h.setShowEditContact,j=h.contactId;(0,r.useEffect)((function(){c&&401!==d.status&&a.ZP.error("Something wrong. Try to reload your page! ".concat(d.status))}),[d,c]);var v=(0,r.useMemo)((function(){if(l)return n.find((function(e){return e.id===j}))}),[j,n,l]);return(0,m.jsxs)(u.Z,{sx:{pt:function(e){return e.spacing(2)}},children:[(0,m.jsxs)(N.Z,{elevation:5,sx:{p:function(e){return e.spacing(4)}},children:[l&&(0,m.jsx)(s.CR,{contacts:n}),(0,m.jsx)(b,{open:x,showModal:f,children:(0,m.jsx)(s.t,{})}),(0,m.jsx)(b,{open:p,showModal:w,children:!!v&&(0,m.jsx)(E,{contactId:v.id,number:v.number,name:v.name})})]}),(0,m.jsx)(T.Z,{isLoading:t})]})}}}]);
//# sourceMappingURL=386.49e50aaf.chunk.js.map